---
title: "Summary of independent t-test for `dimensao8.fss`,`dimensao7.fss`,`dimensao5.fss`,`dimensao2.fss` with `cenário`"
author: Geiser C. Challco <geiser@usp.br>
comment: This file is automatically generate by Shiny-Statistic app (https://statistic.geiser.tech/)
         Author - Geiser C. Challco <geiser@usp.br>
         
         Shiny-Statistic is distributed in the hope that it will be useful,
         but WITHOUT ANY WARRANTY; without even the implied warranty of
         MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
         GNU General Public License for more details.
         
         You should have received a copy of the GNU General Public License.
         If not, see <https://www.gnu.org/licenses/>.
output:
  github_document: default
  word_document: default
  html_document: default
  pdf_document:
    keep_tex: true
fontsize: 10pt
---

```{r setup, include=FALSE}
if (!'remotes' %in% rownames(installed.packages())) install.packages('remotes')
if (!"rshinystatistics" %in% rownames(installed.packages())) {
  remotes::install_github("geiser/rshinystatistics")
} else if (packageVersion("rshinystatistics") < "0.0.0.9028") {
  remotes::install_github("geiser/rshinystatistics")
}

wants <- c('ggplot2','ggpubr','rshinystatistics','utils', 'knitr')
has <- wants %in% rownames(installed.packages())
if (any(!has)) install.packages(wants[!has])

library(knitr)
opts_chunk$set(echo = TRUE)

library(utils)
library(ggpubr)
library(ggplot2)
library(rshinystatistics)

defaultW <- getOption("warn")
options(warn = -1)

data <- read.csv("data.csv")
rownames(data) <- data[["nome"]]
```

## Initial Data and Script

Initial data: [data.csv](data.csv)
R-script file: [ind.ttest.R](ind.ttest.R)

### Setting identificator, dependent and independent variables

```{r}
dvs <- c("dimensao8.fss","dimensao7.fss","dimensao5.fss","dimensao2.fss")
iv <- "cenário"
wid <- "nome"
dat <- set_datatable(data, dvs, "var")
```

## Check Assumptions

### Removing outliers from the data

```{r}
outliers <- list(
"dimensao8.fss" = c("P091","P122","P179")
)
rdat <- remove_from_datatable(dat, outliers, wid, "var")
```

### Normality assumption

**Observation**:

As sample sizes increase, parametric tests remain valid even with the violation of normality <sup>[[1](#references)]</sup>.
According to the central limit theorem, the sampling distribution tends to be normal if the sample is large, more than (`n > 30`) observations. Therefore, we performed parametric tests with large samples as described as follows: 

- In cases with the sample size greater than 30 (`n > 30`), we adopted a significance level of `p < 0.01` instead a significance level of `p < 0.05`.

- In cases with the sample size greater than 100 (`n > 100`), we adopted a significance level of `p < 0.001`

- For samples with `n > 50` observation, we adopted D'Agostino-Pearson test that offers better accuracy for larger samples <sup>[[2](#references)]</sup>.

- For samples' size between `n > 100` and `n <= 200`, we ignored both tests (Shapiro and D'Agostino-Persons), and our decision of normality were based only in the interpretation of QQ-plots and histograms because these tests tend to be too sensitive with values greater than 200 <sup>[[3](#references)]</sup>.

- For samples with `n > 200` observation, we ignore the normality assumption based on the central theorem limit.

#### Applying transformation for skewness data when normality is not achieved


##### Applying normality in dimensao8.fss to reduce skewness

```{r}
density_res_plot(rdat,"dimensao8.fss",iv,dv.var="var")
rdat[["dimensao8.fss"]] <- sqrt(rdat[["dimensao8.fss"]])
density_res_plot(rdat,"dimensao8.fss",iv,dv.var="var")
```





##### Applying normality in dimensao2.fss to reduce skewness

```{r}
density_res_plot(rdat,"dimensao2.fss",iv,dv.var="var")
rdat[["dimensao2.fss"]] <- 1/(max(rdat[["dimensao2.fss"]]+1) - rdat[["dimensao2.fss"]])
density_res_plot(rdat,"dimensao2.fss",iv,dv.var="var")
```




#### Removing data that affect normality (extreme values)

```{r}
non.normal <- list(

)
sdat <- remove_from_datatable(rdat, non.normal, wid, "var")
```



#### Checking normality assumption in the groups

```r
normality_test_per_group(sdat, dvs, iv, dv.var = 'var')
```

```{r echo=FALSE}
kdf <- normality_test_per_group(sdat, dvs, iv, dv.var = 'var')
kdf$p <- round(kdf$p, 3)
kdf$p[which(kdf$p < 0.001)] <- '<0.001'
kable(kdf, digits = 3)
```

### Homogeneity of variance assumption

```r
homogeneity_test(sdat, dvs, iv, dv.var = 'var')
```

```{r echo=FALSE}
kdf <- homogeneity_test(sdat, dvs, iv, dv.var = 'var')
kdf$p <- round(kdf$p, 3)
kdf$p[which(kdf$p < 0.001)] <- '<0.001'
kable(kdf, digits = 3)
```

Homogeneity may be ignored using Welch's method (default method in rshiny-statistics).


## Computation t-Test and effect size

```r
res <- ind_ttest(sdat, dvs, iv, "two.sided", FALSE, FALSE, dv.var='var', as.list=T)
(res$t.test)
```

```{r echo=FALSE}
res <- ind_ttest(sdat, dvs, iv, "two.sided", FALSE, FALSE, dv.var='var', as.list=T)
kdf <- res$t.test[,c(".y.", "group1", "group2", "n1", "n2","statistic", "df", "p", "estimate",
                    "conf.low", "conf.high", "effsize", "magnitude", "p.signif")]
kdf$p <- round(kdf$p, 3)
kdf$p[which(kdf$p < 0.001)] <- '<0.001'
kable(kdf, digits = 3)
```

## Descriptive Statistic and T-Test Plots 

```r
descriptive_statistics(sdat, dvs, iv, "common", "var")
```

```{r echo=FALSE}
kdf <- descriptive_statistics(sdat, dvs, iv, "common", "var")
cnames <- c("n","mean","median","min","max","q1","q3","sd","se","ci","iqr","mad")
cnames <- unique(c("variable", colnames(kdf)[!colnames(kdf) %in% cnames], "n", "mean", "median","sd","se","ci"))
kdf <- kdf[,cnames]
kable(kdf, digits = 3)
```


### T-Test plot for the dependent variable "dimensao8.fss"
```{r, fig.width=8, fig.height=6}
ggPlotTTest(sdat[which(sdat[["var"]] == "dimensao8.fss"),], "cenário", "dimensao8.fss"
, res$tt[["dimensao8.fss"]], c("jitter"), font.label.size=10)
```



### T-Test plot for the dependent variable "dimensao7.fss"
```{r, fig.width=8, fig.height=6}
ggPlotTTest(sdat[which(sdat[["var"]] == "dimensao7.fss"),], "cenário", "dimensao7.fss"
, res$tt[["dimensao7.fss"]], c("jitter"), font.label.size=10)
```



### T-Test plot for the dependent variable "dimensao5.fss"
```{r, fig.width=8, fig.height=6}
ggPlotTTest(sdat[which(sdat[["var"]] == "dimensao5.fss"),], "cenário", "dimensao5.fss"
, res$tt[["dimensao5.fss"]], c("jitter"), font.label.size=10)
```



### T-Test plot for the dependent variable "dimensao2.fss"
```{r, fig.width=8, fig.height=6}
ggPlotTTest(sdat[which(sdat[["var"]] == "dimensao2.fss"),], "cenário", "dimensao2.fss"
, res$tt[["dimensao2.fss"]], c("jitter"), font.label.size=10)
```




## Textual Report

An independent-samples Welch's t-test was conducted to compare "dimensao8.fss", "dimensao7.fss", "dimensao5.fss", "dimensao2.fss" for "cenário" in gamificado and não gamificado conditions. For the measured dimensao8.fss, there was a statistically significant difference in the condition of "gamificado" (adj M = 1.8213) and "não gamificado" (adj M = 1.7329) with t(171) = 3.8334, p = 2e-04, Cohen's d = 0.5701 (moderate).
For the measured dimensao7.fss, there was a statistically significant difference in the condition of "gamificado" (adj M = 3.7461) and "não gamificado" (adj M = 3.0068) with t(169) = 9.3743, p < 0.0001, Cohen's d = 1.3938 (large).
For the measured dimensao5.fss, there was a statistically significant difference in the condition of "gamificado" (adj M = 3.7864) and "não gamificado" (adj M = 3.2226) with t(170) = 7.7662, p < 0.0001, Cohen's d = 1.1532 (large).
For the measured dimensao2.fss, there was a statistically significant difference in the condition of "gamificado" (adj M = 0.6249) and "não gamificado" (adj M = 0.447) with t(180) = 7.4377, p < 0.0001, Cohen's d = 1.0767 (large).



## References

<sup>[1]</sup>: Ghasemi, A., & Zahediasl, S. (2012). Normality tests for statistical analysis: a guide for non-statisticians. International journal of endocrinology and metabolism, 10(2), 486.

<sup>[1]</sup>: Miot, H. A. (2017). Assessing normality of data in clinical and experimental trials. J Vasc Bras, 16(2), 88-91.